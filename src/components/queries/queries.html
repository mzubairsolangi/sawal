<!-- loading screen -->
<!--<h4 *ngIf="fetching">Fetching list...</h4>-->

<!-- when failed in connecting -->
<h5 *ngIf="!questions.length && !fetching && fetchingErr">{{fetchingErr}}</h5>

<!-- when no question pending for approval -->
<h5 *ngIf="!questions.length && !fetching && !fetchingErr" text-center>No questions yet !</h5>

<div *ngIf="questions.length">
  <h5 text-center><span>{{questions.length}}</span> questions.</h5>
  <ion-card class="question-card" *ngFor="let question of questions; let i = index;">

    <!-- TODO - should be a separate component -->
    <!-- text box starts - question / comment -->
    <ion-row>
      <ion-col>
        <button ion-button icon-left clear small>
        <div>{{question.askedBy}}</div> <!--TODO async load the full name-->
        </button>
      </ion-col>
      <ion-col center text-right>
        <ion-note class="timestamp">  <!--TODO use moment-->
          {{this.createdDate}}
        </ion-note>
      </ion-col>
    </ion-row>

    <ion-card-content>
      <p>{{question.text}}</p>
    </ion-card-content>
    <!-- text box ends - question / comment -->

    <!-- controls -->
    <ion-row>
      <ion-col col-5>
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up-outline"></ion-icon>
          <div><span>{{getCount(question.votes)}}</span> Votes</div>
        </button>
      </ion-col>
      <ion-col col-5>
        <button ion-button icon-left clear small (click)="toggleAnswer['answer_' + i] = !toggleAnswer['answer_' + i]" >
          <ion-icon [name]="!toggleAnswer['answer_' + i ] ? 'arrow-down' : 'arrow-up'"></ion-icon>
          <div><span>{{getCount(question.comments)}}</span> Answers</div>
        </button>
      </ion-col>
      <ion-col col-2>
        <button clear color="danger" class="button button-ios button-clear button-clear-ios-danger delete-btn" (click)="removeQuestionConfirmation(true)">
          <span class="button-inner">
           <ion-icon is-active="true" name="trash" role="img" class="icon icon-ios ion-ios-trash" aria-label="trash"></ion-icon>
          </span>
        </button>
      </ion-col>
    </ion-row>

    <ion-card [hidden]="!toggleAnswer['answer_' + i ]" class="answers-section">
      <!-- TODO - should be a separate component -->
      <!-- text box starts - question / comment -->
      <ion-row>
        <ion-col>
          <button ion-button icon-left clear small>
            <div>{{question.askedBy}}</div> <!--TODO async load the full name-->
          </button>
        </ion-col>
        <ion-col center text-right>
          <ion-note class="timestamp">  <!--TODO use moment-->
            11h ago
          </ion-note>
        </ion-col>
      </ion-row>

      <ion-card-content>
        <p>This is first answer to the above question.</p>
      </ion-card-content>
      <!-- text box ends - question / comment -->

      <!-- controls -->
      <ion-row>
        <ion-col text-right>
          <button ion-button outline small color="danger" (click)="removeQuestionConfirmation(false)">
            <ion-icon name="trash"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-card>

  </ion-card>
</div>

